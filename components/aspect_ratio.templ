package components

import "github.com/axzilla/templui/utils"

type AspectRatioVariant int

const (
	AspectRatioAuto AspectRatioVariant = iota
	AspectRatioSquare
	AspectRatioVideo
	AspectRatioPortrait
	AspectRatioWide
)

type AspectRatioProps struct {
	Ratio      AspectRatioVariant
	Class      string
	Attributes templ.Attributes
}

templ AspectRatio(props AspectRatioProps) {
	<div
		class={ utils.TwMerge(
			"relative w-full",
			getAspectRatioClass(props.Ratio),
			props.Class,
		) }
		{ props.Attributes... }
	>
		<div class="absolute inset-0">
			{ children... }
		</div>
	</div>
}

func getAspectRatioClass(ratio AspectRatioVariant) string {
	switch ratio {
	case AspectRatioSquare:
		return "aspect-square"
	case AspectRatioVideo:
		return "aspect-video"
	case AspectRatioPortrait:
		return "aspect-[3/4]"
	case AspectRatioWide:
		return "aspect-[2/1]"
	default:
		return "aspect-auto"
	}
}
